# ğŸš€ Deployment Guide - Vercel & Railway

**Date:** January 30, 2026  
**Status:** Ready for Deployment  
**Platforms:** Vercel (Frontend) + Railway (Backend)

---

## ğŸ“‹ Overview

This project is configured for deployment on:
- **Vercel**: Frontend (React/Vite app)
- **Railway**: Backend API (Python/FastAPI + PostgreSQL)

---

## ğŸ¯ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel        â”‚         â”‚   Railway        â”‚
â”‚   (Frontend)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   (Backend API)  â”‚
â”‚                 â”‚  HTTPS  â”‚                  â”‚
â”‚  React/Vite     â”‚         â”‚  FastAPI         â”‚
â”‚  Static Site    â”‚         â”‚  PostgreSQL      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚                            â”‚
   User Browser              Kalshi API
```

---

## ğŸš€ Railway Deployment (Backend)

### Step 1: Create Railway Account
1. Go to https://railway.app
2. Sign up with GitHub
3. Connect your GitHub repository

### Step 2: Create New Project
1. Click "New Project"
2. Select "Deploy from GitHub repo"
3. Choose `benedict-anokye-davies/Polymarket-Sports-Bot`
4. Select branch: `master`

### Step 3: Add PostgreSQL Database
1. Click "New" â†’ "Database" â†’ "Add PostgreSQL"
2. Railway will automatically create the database
3. Copy the database connection string (will be auto-injected as DATABASE_URL)

### Step 4: Configure Environment Variables
Add these variables in Railway dashboard:

```bash
# Database (auto-generated by Railway)
DATABASE_URL=postgresql+asyncpg://... (auto-filled)

# Security (generate strong random values)
SECRET_KEY=your-super-secret-key-here-min-32-chars

# Discord Notifications (optional but recommended)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# Kalshi Credentials (for live trading)
KALSHI_API_KEY_ID=your_kalshi_key_id
KALSHI_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----
...
-----END RSA PRIVATE KEY-----

# Environment
ENVIRONMENT=production
```

### Step 5: Deploy
1. Railway will auto-deploy when you push to GitHub
2. Monitor logs in Railway dashboard
3. Health check endpoint: `https://your-app.railway.app/api/health/quick`

### Step 6: Run Database Migrations
```bash
# In Railway dashboard, open "Shell" for your service
alembic upgrade head
```

---

## ğŸŒ Vercel Deployment (Frontend)

### Step 1: Create Vercel Account
1. Go to https://vercel.com
2. Sign up with GitHub
3. Import your repository

### Step 2: Configure Project
1. Select `benedict-anokye-davies/Polymarket-Sports-Bot`
2. **Root Directory**: `frontend` (IMPORTANT!)
3. **Framework Preset**: Vite
4. **Build Command**: `npm run build`
5. **Output Directory**: `dist`

### Step 3: Environment Variables
Add in Vercel dashboard:

```bash
# Backend API URL (from Railway)
VITE_API_URL=https://your-railway-app.railway.app

# Or if using custom domain:
VITE_API_URL=https://api.yourdomain.com
```

### Step 4: Deploy
1. Click "Deploy"
2. Vercel will build and deploy automatically
3. Your frontend will be live at: `https://your-project.vercel.app`

---

## ğŸ”— Connecting Frontend to Backend

### Update Frontend API Client
In `frontend/src/api/client.ts`, ensure the base URL uses the environment variable:

```typescript
const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000';
```

### CORS Configuration
The backend already has CORS configured in `src/main.py`:

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://your-frontend.vercel.app"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

Update `allow_origins` with your actual Vercel URL.

---

## ğŸ§ª Testing Deployment

### Test Backend (Railway)
```bash
# Health check
curl https://your-railway-app.railway.app/api/health/quick

# Should return:
{"status": "healthy", "timestamp": "..."}
```

### Test Frontend (Vercel)
1. Visit `https://your-project.vercel.app`
2. Login should work
3. Bot configuration should load
4. All API calls should succeed

---

## ğŸ“Š Monitoring

### Railway Monitoring
- **Logs**: View in Railway dashboard
- **Metrics**: CPU, memory, disk usage
- **Health Checks**: Automatic with `/api/health/quick`

### Vercel Monitoring
- **Analytics**: Built-in Vercel Analytics
- **Logs**: Function invocations and errors
- **Performance**: Core Web Vitals

---

## ğŸ”’ Security Checklist

### Before Going Live:
- [ ] Change default SECRET_KEY
- [ ] Enable HTTPS (auto-enabled on both platforms)
- [ ] Configure CORS properly
- [ ] Set up Discord webhook for alerts
- [ ] Use strong database password
- [ ] Enable Railway's automatic backups
- [ ] Test kill switch functionality
- [ ] Verify emergency stop works

---

## ğŸ’° Cost Estimation

### Railway (Backend):
- **Free Tier**: $5 credit/month
  - 512 MB RAM
  - 1 GB disk
  - Shared CPU
- **Starter Plan**: $5/month
  - 1 GB RAM
  - 5 GB disk
  - Better performance

### Vercel (Frontend):
- **Hobby Plan**: FREE
  - 100 GB bandwidth
  - 6000 build minutes
  - Perfect for this project

### PostgreSQL (Railway):
- **Free Tier**: Included with app
- **Paid Plans**: Start at $5/month

**Total Cost: $0-10/month**

---

## ğŸš¨ Troubleshooting

### Railway Issues:

**Build Fails:**
```bash
# Check logs in Railway dashboard
# Common issues:
# 1. Missing requirements.txt
# 2. Database not connected
# 3. Environment variables not set
```

**Database Connection Error:**
```bash
# Verify DATABASE_URL is set
# Run migrations: alembic upgrade head
```

### Vercel Issues:

**Build Fails:**
```bash
# Check build logs
# Common issues:
# 1. Root directory not set to 'frontend'
# 2. Missing package.json
# 3. API URL not configured
```

**API Calls Fail (CORS):**
```bash
# Update CORS origins in backend
# Verify VITE_API_URL is correct
```

---

## ğŸ”„ Continuous Deployment

### Automatic Deployments:
1. Push code to GitHub `master` branch
2. Railway auto-deploys backend
3. Vercel auto-deploys frontend
4. Both run health checks

### Deployment Workflow:
```bash
# Make changes
git add .
git commit -m "feat: new feature"
git push origin master

# Wait 2-3 minutes
# Both platforms auto-deploy
```

---

## ğŸ“± Custom Domain (Optional)

### Railway Custom Domain:
1. Go to Railway dashboard â†’ Settings
2. Click "Custom Domain"
3. Add your domain (e.g., `api.yourdomain.com`)
4. Update DNS records

### Vercel Custom Domain:
1. Go to Vercel dashboard â†’ Domains
2. Add your domain (e.g., `app.yourdomain.com`)
3. Update DNS records

---

## âœ… Deployment Checklist

### Pre-Deployment:
- [ ] All tests passing
- [ ] Environment variables configured
- [ ] Database migrations ready
- [ ] Discord webhook set up
- [ ] Code pushed to GitHub

### Railway Deployment:
- [ ] Project created
- [ ] PostgreSQL database added
- [ ] Environment variables set
- [ ] Deployed successfully
- [ ] Health check passing
- [ ] Migrations run

### Vercel Deployment:
- [ ] Project imported
- [ ] Root directory set to `frontend`
- [ ] Build settings configured
- [ ] Environment variables set
- [ ] Deployed successfully
- [ ] Frontend loads correctly

### Post-Deployment:
- [ ] Login works
- [ ] API calls succeed
- [ ] Discord alerts work
- [ ] Paper trading tested
- [ ] Kill switch tested
- [ ] Emergency stop tested

---

## ğŸ‰ Success!

Once deployed:
- **Frontend**: `https://your-project.vercel.app`
- **Backend**: `https://your-app.railway.app`
- **API Docs**: `https://your-app.railway.app/docs`

**Your bot is now live and ready for trading!** ğŸš€

---

## ğŸ“ Support

**Railway Docs**: https://docs.railway.app  
**Vercel Docs**: https://vercel.com/docs  
**Project Issues**: https://github.com/benedict-anokye-davies/Polymarket-Sports-Bot/issues

---

**Last Updated:** January 30, 2026  
**Status:** Ready for Production Deployment  
**Estimated Setup Time:** 30-45 minutes
